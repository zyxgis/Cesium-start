<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Primitive-API 性能好，才是真的好 | Cesium 入门</title>
    <meta name="description" content="Cesium 学习笔记">
    <link rel="icon" href="/Cesium-start/favicon.ico">
    
    <link rel="preload" href="/Cesium-start/assets/css/0.styles.86b9ce83.css" as="style"><link rel="preload" href="/Cesium-start/assets/js/app.04cf2a1c.js" as="script"><link rel="preload" href="/Cesium-start/assets/js/2.3ec245fe.js" as="script"><link rel="preload" href="/Cesium-start/assets/js/9.354dd238.js" as="script"><link rel="prefetch" href="/Cesium-start/assets/js/10.ceff4cc7.js"><link rel="prefetch" href="/Cesium-start/assets/js/11.86a7837d.js"><link rel="prefetch" href="/Cesium-start/assets/js/12.be9ef16b.js"><link rel="prefetch" href="/Cesium-start/assets/js/13.1abdf8b1.js"><link rel="prefetch" href="/Cesium-start/assets/js/14.3b591ec8.js"><link rel="prefetch" href="/Cesium-start/assets/js/15.5ae69bff.js"><link rel="prefetch" href="/Cesium-start/assets/js/16.016988d1.js"><link rel="prefetch" href="/Cesium-start/assets/js/17.c82e3b12.js"><link rel="prefetch" href="/Cesium-start/assets/js/18.f7968ca4.js"><link rel="prefetch" href="/Cesium-start/assets/js/19.c2f11fae.js"><link rel="prefetch" href="/Cesium-start/assets/js/20.229e9ab9.js"><link rel="prefetch" href="/Cesium-start/assets/js/21.e625c542.js"><link rel="prefetch" href="/Cesium-start/assets/js/22.58542b4c.js"><link rel="prefetch" href="/Cesium-start/assets/js/23.83049e9a.js"><link rel="prefetch" href="/Cesium-start/assets/js/24.443dcc6e.js"><link rel="prefetch" href="/Cesium-start/assets/js/25.2d87b805.js"><link rel="prefetch" href="/Cesium-start/assets/js/26.c62024a1.js"><link rel="prefetch" href="/Cesium-start/assets/js/27.363d352d.js"><link rel="prefetch" href="/Cesium-start/assets/js/28.ca4a686b.js"><link rel="prefetch" href="/Cesium-start/assets/js/29.a2ef2ea4.js"><link rel="prefetch" href="/Cesium-start/assets/js/3.d5a3e2b9.js"><link rel="prefetch" href="/Cesium-start/assets/js/30.93f1a44f.js"><link rel="prefetch" href="/Cesium-start/assets/js/31.bf823156.js"><link rel="prefetch" href="/Cesium-start/assets/js/32.ccebb131.js"><link rel="prefetch" href="/Cesium-start/assets/js/33.5fafbd65.js"><link rel="prefetch" href="/Cesium-start/assets/js/34.8e3f0d2a.js"><link rel="prefetch" href="/Cesium-start/assets/js/35.ffc85178.js"><link rel="prefetch" href="/Cesium-start/assets/js/36.c24f61c0.js"><link rel="prefetch" href="/Cesium-start/assets/js/37.6d6900d4.js"><link rel="prefetch" href="/Cesium-start/assets/js/38.cfc91613.js"><link rel="prefetch" href="/Cesium-start/assets/js/39.f2827aa1.js"><link rel="prefetch" href="/Cesium-start/assets/js/4.2e423e5d.js"><link rel="prefetch" href="/Cesium-start/assets/js/5.d1359133.js"><link rel="prefetch" href="/Cesium-start/assets/js/6.415c0d9b.js"><link rel="prefetch" href="/Cesium-start/assets/js/7.75fd6e5e.js"><link rel="prefetch" href="/Cesium-start/assets/js/8.3310deaa.js">
    <link rel="stylesheet" href="/Cesium-start/assets/css/0.styles.86b9ce83.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/Cesium-start/zh/" class="home-link router-link-active"><!----> <span class="site-name">Cesium 入门</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Cesium-start/zh/guide/" class="nav-link router-link-active">指南</a></div><div class="nav-item"><a href="https://github.com/Sogrey/Cesium-start/blob/master/vuepress2pdf/Cesium%E5%85%A5%E9%97%A8%E7%AC%94%E8%AE%B0.pdf" target="_blank" rel="noopener noreferrer" class="nav-link external">
  pdf
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://sogrey.github.io/Cesium-start-Example/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Example
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="/Cesium-start/zh/reference/" class="nav-link">参考资料</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="外链" class="dropdown-title"><span class="title">外链</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://cesium.com/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Cesium 官网
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/AnalyticalGraphicsInc/cesium" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Cesium Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://cesium.com/docs/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Cesium 官方文档
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://sandcastle.cesium.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Cesium 官方示例
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://cesiumcn.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Cesium 中文网社区
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <a href="https://github.com/Sogrey/Cesium-start" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Cesium-start/zh/guide/" class="nav-link router-link-active">指南</a></div><div class="nav-item"><a href="https://github.com/Sogrey/Cesium-start/blob/master/vuepress2pdf/Cesium%E5%85%A5%E9%97%A8%E7%AC%94%E8%AE%B0.pdf" target="_blank" rel="noopener noreferrer" class="nav-link external">
  pdf
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://sogrey.github.io/Cesium-start-Example/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Example
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="/Cesium-start/zh/reference/" class="nav-link">参考资料</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="外链" class="dropdown-title"><span class="title">外链</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://cesium.com/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Cesium 官网
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/AnalyticalGraphicsInc/cesium" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Cesium Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://cesium.com/docs/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Cesium 官方文档
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://sandcastle.cesium.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Cesium 官方示例
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://cesiumcn.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Cesium 中文网社区
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <a href="https://github.com/Sogrey/Cesium-start" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>快速入门</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Cesium-start/zh/guide/" class="sidebar-link">简介及环境配置</a></li><li><a href="/Cesium-start/zh/guide/01-hello-world.html" class="sidebar-link">第一个cesium应用-Hello world</a></li><li><a href="/Cesium-start/zh/guide/02-Viewer-some-helpful-widgets.html" class="sidebar-link">Viewer 以及一些有用的组件</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>核心功能</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Cesium-start/zh/guide/03-coordinate-system.html" class="sidebar-link">cesium 坐标系统</a></li><li><a href="/Cesium-start/zh/guide/04-Viewer.html" class="sidebar-link">Viewer类-一切API的入口</a></li><li><a href="/Cesium-start/zh/guide/05-Camera.html" class="sidebar-link">Camera 相机及视角</a></li><li><a href="/Cesium-start/zh/guide/06-ImageryLayer.html" class="sidebar-link">ImageryLayer类-影像图层，给地球换个皮肤</a></li><li><a href="/Cesium-start/zh/guide/07-TerrainProvider.html" class="sidebar-link">TerrainProvider类-地形，让三维表现更立体</a></li><li><a href="/Cesium-start/zh/guide/08-Entity-API.html" class="sidebar-link">Entity-API 与地球交互</a></li><li><a href="/Cesium-start/zh/guide/09-Cesium3DTileset.html" class="sidebar-link">Cesium3DTileset 让场景更细致更真实</a></li><li><a href="/Cesium-start/zh/guide/10-Primitive-API.html" class="active sidebar-link">Primitive-API 性能好，才是真的好</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Cesium-start/zh/guide/10-Primitive-API.html#primitive-和-groundprimitive" class="sidebar-link">Primitive 和 GroundPrimitive</a></li><li class="sidebar-sub-header"><a href="/Cesium-start/zh/guide/10-Primitive-API.html#geometryinstance-类" class="sidebar-link">GeometryInstance 类</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Cesium-start/zh/guide/10-Primitive-API.html#geometryinstanceattribute-实例化几何属性信息" class="sidebar-link">GeometryInstanceAttribute 实例化几何属性信息</a></li></ul></li><li class="sidebar-sub-header"><a href="/Cesium-start/zh/guide/10-Primitive-API.html#geometry-类-几何形状" class="sidebar-link">Geometry 类 几何形状</a></li><li class="sidebar-sub-header"><a href="/Cesium-start/zh/guide/10-Primitive-API.html#material-materialproperty-materialappearance-材质外观" class="sidebar-link">Material &amp; MaterialProperty &amp; MaterialAppearance 材质外观</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Cesium-start/zh/guide/10-Primitive-API.html#material" class="sidebar-link">Material</a></li><li class="sidebar-sub-header"><a href="/Cesium-start/zh/guide/10-Primitive-API.html#materialproperty" class="sidebar-link">MaterialProperty</a></li><li class="sidebar-sub-header"><a href="/Cesium-start/zh/guide/10-Primitive-API.html#materialappearance" class="sidebar-link">MaterialAppearance</a></li></ul></li><li class="sidebar-sub-header"><a href="/Cesium-start/zh/guide/10-Primitive-API.html#参考" class="sidebar-link">参考</a></li></ul></li><li><a href="/Cesium-start/zh/guide/11-Fabric.html" class="sidebar-link">Fabric 玩点高级的</a></li><li><a href="/Cesium-start/zh/guide/12-ParticleSystem.html" class="sidebar-link">ParticleSystem 粒子系统</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>其他</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Cesium-start/zh/guide/other/01-InputAction-Pick.html" class="sidebar-link">点击交互</a></li><li><a href="/Cesium-start/zh/guide/other/02-CustomBubble.html" class="sidebar-link">自定义气泡</a></li><li><a href="/Cesium-start/zh/guide/other/03-pick.html" class="sidebar-link">Cesium 中的pick</a></li><li><a href="/Cesium-start/zh/guide/other/04-height.html" class="sidebar-link">Cesium 各高度的获取</a></li><li><a href="/Cesium-start/zh/guide/other/05-collision-detection.html" class="sidebar-link">碰撞检测</a></li><li><a href="/Cesium-start/zh/guide/other/06-CesiumHeatmap.html" class="sidebar-link">热力图</a></li><li><a href="/Cesium-start/zh/guide/other/07-clippingPlane.html" class="sidebar-link">剖切</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>模型转码</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Cesium-start/zh/guide/transcoding/01-dae-2-gltf-bgltf.html" class="sidebar-link">dae转gltf/bgltf</a></li><li><a href="/Cesium-start/zh/guide/transcoding/02-obj-2-gltf.html" class="sidebar-link">OBJ转GLTF</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>遇到一些问题</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Cesium-start/zh/guide/QA/01-CORS-policy.html" class="sidebar-link">跨域问题</a></li><li><a href="/Cesium-start/zh/guide/QA/02-ModelDrift.html" class="sidebar-link">模型漂移</a></li><li><a href="/Cesium-start/zh/guide/QA/03-BGDrift.html" class="sidebar-link">底图偏移</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="primitive-api-性能好，才是真的好"><a href="#primitive-api-性能好，才是真的好" class="header-anchor">#</a> Primitive-API 性能好，才是真的好</h1> <blockquote><p>Three.js中，要创建一个几何体(<code>THREE.Mesh</code>)，包括几何体(<code>THREE.Geometry</code>)还有材质(<code>THREE.Material</code>)才能正确渲染。</p> <p>在Cesium中，<code>Cesium.Primitive</code>包含两部分几何体<code>Cesium.Geometry</code>和外观<code>Cesium.Appearance</code>。</p></blockquote> <p>Primitive由两个部分组成：</p> <ul><li>（1）几何形状（Geometry）：定义了Primitive的结构，例如三角形、线条、点等</li> <li>（2）外观（Appearance ）：定义Primitive的着色（Sharding），包括GLSL（OpenGL着色语言，OpenGL Shading Language）顶点着色器和片段着色器（ vertex and fragment shaders），以及渲染状态（render state）</li></ul> <p>使用Geometry和Appearance 具有以下优势：</p> <ul><li>（1）性能：绘制大量Primitive时，可以将其合并为单个Geometry以减轻CPU负担、更好的使用GPU。合并Primitive由web worker线程执行，UI保持响应性</li> <li>（2）灵活性：Geometry与Appearance 解耦，两者可以分别进行修改</li> <li>（3）低级别访问：易于编写GLSL 顶点、片段着色器、使用自定义的渲染状态</li></ul> <p>同时，具有以下劣势：</p> <ul><li>（1）需要编写更多地代码</li> <li>（2）需要对图形编程有更多的理解，特别是OpenGL的知识</li></ul> <h2 id="primitive-和-groundprimitive"><a href="#primitive-和-groundprimitive" class="header-anchor">#</a> Primitive 和 GroundPrimitive</h2> <p>图元（<a href="https://cesium.com/docs/cesiumjs-ref-doc/Primitive.html" target="_blank" rel="noopener noreferrer"><code>Primitive</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>）表示场景中的几何图形。几何可以来自不同的几何类型(<code>GeometryInstance</code>或<code>Geometry</code>)。图元将几何体实例与一个描述完整着色的外观（包括<code>Material</code>和<code>RenderState</code>）组合在一起。</p> <p>大致而言，几何实例定义结构和位置，外观定义视觉特征。解耦几何形状和外观使我们能够混合和匹配其中的大多数，并彼此独立地添加新的几何形状或外观。将多个实例组合成一个原语称为批处理，可显着提高静态数据的性能。可以单独选择实例；<code>Scene＃pick</code>返回其<code>GeometryInstance＃id</code>。使用每个实例的外观（例如<code>PerInstanceColorAppearance</code>），每个实例也可以具有唯一的颜色。可以在Web Worker或主线程上创建并批处理几何。</p> <p>官方Examples:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 1. Draw a translucent ellipse on the surface with a checkerboard pattern</span>
<span class="token keyword">var</span> instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>GeometryInstance</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  geometry <span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>EllipseGeometry</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      center <span class="token punctuation">:</span> Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token function">fromDegrees</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">100.0</span><span class="token punctuation">,</span> <span class="token number">20.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      semiMinorAxis <span class="token punctuation">:</span> <span class="token number">500000.0</span><span class="token punctuation">,</span>
      semiMajorAxis <span class="token punctuation">:</span> <span class="token number">1000000.0</span><span class="token punctuation">,</span>
      rotation <span class="token punctuation">:</span> Cesium<span class="token punctuation">.</span>Math<span class="token punctuation">.</span><span class="token constant">PI_OVER_FOUR</span><span class="token punctuation">,</span>
      vertexFormat <span class="token punctuation">:</span> Cesium<span class="token punctuation">.</span>VertexFormat<span class="token punctuation">.</span><span class="token constant">POSITION_AND_ST</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  id <span class="token punctuation">:</span> <span class="token string">'object returned when this instance is picked and to get/set per-instance attributes'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
scene<span class="token punctuation">.</span>primitives<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Primitive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  geometryInstances <span class="token punctuation">:</span> instance<span class="token punctuation">,</span>
  appearance <span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>EllipsoidSurfaceAppearance</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    material <span class="token punctuation">:</span> Cesium<span class="token punctuation">.</span>Material<span class="token punctuation">.</span><span class="token function">fromType</span><span class="token punctuation">(</span><span class="token string">'Checkerboard'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 2. Draw different instances each with a unique color</span>
<span class="token keyword">var</span> rectangleInstance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>GeometryInstance</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  geometry <span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>RectangleGeometry</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    rectangle <span class="token punctuation">:</span> Cesium<span class="token punctuation">.</span>Rectangle<span class="token punctuation">.</span><span class="token function">fromDegrees</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">140.0</span><span class="token punctuation">,</span> <span class="token number">30.0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">100.0</span><span class="token punctuation">,</span> <span class="token number">40.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    vertexFormat <span class="token punctuation">:</span> Cesium<span class="token punctuation">.</span>PerInstanceColorAppearance<span class="token punctuation">.</span><span class="token constant">VERTEX_FORMAT</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  id <span class="token punctuation">:</span> <span class="token string">'rectangle'</span><span class="token punctuation">,</span>
  attributes <span class="token punctuation">:</span> <span class="token punctuation">{</span>
    color <span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>ColorGeometryInstanceAttribute</span><span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> ellipsoidInstance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>GeometryInstance</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  geometry <span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>EllipsoidGeometry</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    radii <span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Cartesian3</span><span class="token punctuation">(</span><span class="token number">500000.0</span><span class="token punctuation">,</span> <span class="token number">500000.0</span><span class="token punctuation">,</span> <span class="token number">1000000.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    vertexFormat <span class="token punctuation">:</span> Cesium<span class="token punctuation">.</span>VertexFormat<span class="token punctuation">.</span><span class="token constant">POSITION_AND_NORMAL</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  modelMatrix <span class="token punctuation">:</span> Cesium<span class="token punctuation">.</span>Matrix4<span class="token punctuation">.</span><span class="token function">multiplyByTranslation</span><span class="token punctuation">(</span>
      Cesium<span class="token punctuation">.</span>Transforms<span class="token punctuation">.</span><span class="token function">eastNorthUpToFixedFrame</span><span class="token punctuation">(</span>Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token function">fromDegrees</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">95.59777</span><span class="token punctuation">,</span> <span class="token number">40.03883</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Cartesian3</span><span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">500000.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Matrix4</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">,</span>
  id <span class="token punctuation">:</span> <span class="token string">'ellipsoid'</span><span class="token punctuation">,</span>
  attributes <span class="token punctuation">:</span> <span class="token punctuation">{</span>
    color <span class="token punctuation">:</span> Cesium<span class="token punctuation">.</span>ColorGeometryInstanceAttribute<span class="token punctuation">.</span><span class="token function">fromColor</span><span class="token punctuation">(</span>Cesium<span class="token punctuation">.</span>Color<span class="token punctuation">.</span><span class="token constant">AQUA</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
scene<span class="token punctuation">.</span>primitives<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Primitive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  geometryInstances <span class="token punctuation">:</span> <span class="token punctuation">[</span>rectangleInstance<span class="token punctuation">,</span> ellipsoidInstance<span class="token punctuation">]</span><span class="token punctuation">,</span>
  appearance <span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>PerInstanceColorAppearance</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 3. Create the geometry on the main thread.</span>
scene<span class="token punctuation">.</span>primitives<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Primitive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  geometryInstances <span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>GeometryInstance</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      geometry <span class="token punctuation">:</span> Cesium<span class="token punctuation">.</span>EllipsoidGeometry<span class="token punctuation">.</span><span class="token function">createGeometry</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>EllipsoidGeometry</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        radii <span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Cartesian3</span><span class="token punctuation">(</span><span class="token number">500000.0</span><span class="token punctuation">,</span> <span class="token number">500000.0</span><span class="token punctuation">,</span> <span class="token number">1000000.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        vertexFormat <span class="token punctuation">:</span> Cesium<span class="token punctuation">.</span>VertexFormat<span class="token punctuation">.</span><span class="token constant">POSITION_AND_NORMAL</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      modelMatrix <span class="token punctuation">:</span> Cesium<span class="token punctuation">.</span>Matrix4<span class="token punctuation">.</span><span class="token function">multiplyByTranslation</span><span class="token punctuation">(</span>
          Cesium<span class="token punctuation">.</span>Transforms<span class="token punctuation">.</span><span class="token function">eastNorthUpToFixedFrame</span><span class="token punctuation">(</span>Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token function">fromDegrees</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">95.59777</span><span class="token punctuation">,</span> <span class="token number">40.03883</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Cartesian3</span><span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">500000.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Matrix4</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">)</span><span class="token punctuation">,</span>
      id <span class="token punctuation">:</span> <span class="token string">'ellipsoid'</span><span class="token punctuation">,</span>
      attributes <span class="token punctuation">:</span> <span class="token punctuation">{</span>
        color <span class="token punctuation">:</span> Cesium<span class="token punctuation">.</span>ColorGeometryInstanceAttribute<span class="token punctuation">.</span><span class="token function">fromColor</span><span class="token punctuation">(</span>Cesium<span class="token punctuation">.</span>Color<span class="token punctuation">.</span><span class="token constant">AQUA</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  appearance <span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>PerInstanceColorAppearance</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>地面图元(<a href="https://cesium.com/docs/cesiumjs-ref-doc/GroundPrimitive.html" target="_blank" rel="noopener noreferrer"><code>GroundPrimitive</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>)表示场景中叠加在地形或3D瓷砖上的几何图形。图元将几何体实例与一个描述完整着色的外观（包括<code>Material</code>和<code>RenderState</code>）组合在一起。</p> <p>同样的，几何实例定义结构和位置，外观定义视觉特征。解耦几何形状和外观使我们能够混合和匹配其中的大多数，并彼此独立地添加新的几何形状或外观。要使用带有PerInstanceColorAppearance之外的其他PerInstanceColors或材质的GeometryInstances，需要支持WEBGL_depth_texture扩展。带纹理的GroundPrimitives是为概念性图案设计的，并不意味着将纹理精确地映射到地形，请使用SingleTileImageryProvider。为了正确渲染，此功能需要EXT_frag_depth WebGL扩展。对于不支持此扩展的硬件，某些视角会有渲染瑕疵。有效的几何图形包括<code>CircleGeometry</code>，<code>CorridorGeometry</code>，<code>EllipseGeometry</code>，<code>PolygonGeometry</code>和<code>RectangleGeometry</code>。</p> <p>官方Examples:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 1: Create primitive with a single instance</span>
<span class="token keyword">var</span> rectangleInstance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>GeometryInstance</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  geometry <span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>RectangleGeometry</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    rectangle <span class="token punctuation">:</span> Cesium<span class="token punctuation">.</span>Rectangle<span class="token punctuation">.</span><span class="token function">fromDegrees</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">140.0</span><span class="token punctuation">,</span> <span class="token number">30.0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">100.0</span><span class="token punctuation">,</span> <span class="token number">40.0</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  id <span class="token punctuation">:</span> <span class="token string">'rectangle'</span><span class="token punctuation">,</span>
  attributes <span class="token punctuation">:</span> <span class="token punctuation">{</span>
    color <span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>ColorGeometryInstanceAttribute</span><span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
scene<span class="token punctuation">.</span>primitives<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>GroundPrimitive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  geometryInstances <span class="token punctuation">:</span> rectangleInstance
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 2: Batch instances</span>
<span class="token keyword">var</span> color <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>ColorGeometryInstanceAttribute</span><span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Both instances must have the same color.</span>
<span class="token keyword">var</span> rectangleInstance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>GeometryInstance</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  geometry <span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>RectangleGeometry</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    rectangle <span class="token punctuation">:</span> Cesium<span class="token punctuation">.</span>Rectangle<span class="token punctuation">.</span><span class="token function">fromDegrees</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">140.0</span><span class="token punctuation">,</span> <span class="token number">30.0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">100.0</span><span class="token punctuation">,</span> <span class="token number">40.0</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  id <span class="token punctuation">:</span> <span class="token string">'rectangle'</span><span class="token punctuation">,</span>
  attributes <span class="token punctuation">:</span> <span class="token punctuation">{</span>
    color <span class="token punctuation">:</span> color
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> ellipseInstance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>GeometryInstance</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    geometry <span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>EllipseGeometry</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        center <span class="token punctuation">:</span> Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token function">fromDegrees</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">105.0</span><span class="token punctuation">,</span> <span class="token number">40.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        semiMinorAxis <span class="token punctuation">:</span> <span class="token number">300000.0</span><span class="token punctuation">,</span>
        semiMajorAxis <span class="token punctuation">:</span> <span class="token number">400000.0</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    id <span class="token punctuation">:</span> <span class="token string">'ellipse'</span><span class="token punctuation">,</span>
    attributes <span class="token punctuation">:</span> <span class="token punctuation">{</span>
        color <span class="token punctuation">:</span> color
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
scene<span class="token punctuation">.</span>primitives<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>GroundPrimitive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  geometryInstances <span class="token punctuation">:</span> <span class="token punctuation">[</span>rectangleInstance<span class="token punctuation">,</span> ellipseInstance<span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="geometryinstance-类"><a href="#geometryinstance-类" class="header-anchor">#</a> GeometryInstance 类</h2> <p>几何体实例化(<a href="https://cesium.com/docs/cesiumjs-ref-doc/GeometryInstance.html" target="_blank" rel="noopener noreferrer"><code>GeometryInstance</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>)允许将一个几何体对象放置在几个不同的位置并进行唯一着色。例如，可以对一个BoxGeometry进行多次实例化，每次使用不同的modelMatrix来更改其位置，旋转和比例。</p> <p>官方Examples:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// Create geometry for a box, and two instances that refer to it.</span>
<span class="token comment">// One instance positions the box on the bottom and colored aqua.</span>
<span class="token comment">// The other instance positions the box on the top and color white.</span>
<span class="token keyword">var</span> geometry <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>BoxGeometry<span class="token punctuation">.</span><span class="token function">fromDimensions</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  vertexFormat <span class="token punctuation">:</span> Cesium<span class="token punctuation">.</span>VertexFormat<span class="token punctuation">.</span><span class="token constant">POSITION_AND_NORMAL</span><span class="token punctuation">,</span>
  dimensions <span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Cartesian3</span><span class="token punctuation">(</span><span class="token number">1000000.0</span><span class="token punctuation">,</span> <span class="token number">1000000.0</span><span class="token punctuation">,</span> <span class="token number">500000.0</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> instanceBottom <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>GeometryInstance</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  geometry <span class="token punctuation">:</span> geometry<span class="token punctuation">,</span>
  modelMatrix <span class="token punctuation">:</span> Cesium<span class="token punctuation">.</span>Matrix4<span class="token punctuation">.</span><span class="token function">multiplyByTranslation</span><span class="token punctuation">(</span>
      Cesium<span class="token punctuation">.</span>Transforms<span class="token punctuation">.</span><span class="token function">eastNorthUpToFixedFrame</span><span class="token punctuation">(</span>Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token function">fromDegrees</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">75.59777</span><span class="token punctuation">,</span> <span class="token number">40.03883</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Cartesian3</span><span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">1000000.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Matrix4</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">,</span>
  attributes <span class="token punctuation">:</span> <span class="token punctuation">{</span>
    color <span class="token punctuation">:</span> Cesium<span class="token punctuation">.</span>ColorGeometryInstanceAttribute<span class="token punctuation">.</span><span class="token function">fromColor</span><span class="token punctuation">(</span>Cesium<span class="token punctuation">.</span>Color<span class="token punctuation">.</span><span class="token constant">AQUA</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  id <span class="token punctuation">:</span> <span class="token string">'bottom'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> instanceTop <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>GeometryInstance</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  geometry <span class="token punctuation">:</span> geometry<span class="token punctuation">,</span>
  modelMatrix <span class="token punctuation">:</span> Cesium<span class="token punctuation">.</span>Matrix4<span class="token punctuation">.</span><span class="token function">multiplyByTranslation</span><span class="token punctuation">(</span>
      Cesium<span class="token punctuation">.</span>Transforms<span class="token punctuation">.</span><span class="token function">eastNorthUpToFixedFrame</span><span class="token punctuation">(</span>Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token function">fromDegrees</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">75.59777</span><span class="token punctuation">,</span> <span class="token number">40.03883</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Cartesian3</span><span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">3000000.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Matrix4</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">,</span>
  attributes <span class="token punctuation">:</span> <span class="token punctuation">{</span>
    color <span class="token punctuation">:</span> Cesium<span class="token punctuation">.</span>ColorGeometryInstanceAttribute<span class="token punctuation">.</span><span class="token function">fromColor</span><span class="token punctuation">(</span>Cesium<span class="token punctuation">.</span>Color<span class="token punctuation">.</span><span class="token constant">AQUA</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  id <span class="token punctuation">:</span> <span class="token string">'top'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>从上面代码看出，创建一个几何体(<code>BoxGeometry</code>)分别赋给不同的位置矩阵(<code>modelMatrix</code>)可实例化出多个几何实体</p> <h3 id="geometryinstanceattribute-实例化几何属性信息"><a href="#geometryinstanceattribute-实例化几何属性信息" class="header-anchor">#</a> GeometryInstanceAttribute 实例化几何属性信息</h3> <p>每个实例几何属性的值和类型信息(<a href="https://cesium.com/docs/cesiumjs-ref-doc/GeometryInstanceAttribute.html" target="_blank" rel="noopener noreferrer"><code>GeometryInstanceAttribute</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>)。相关的：</p> <ul><li><a href="https://cesium.com/docs/cesiumjs-ref-doc/ColorGeometryInstanceAttribute.html" target="_blank" rel="noopener noreferrer">ColorGeometryInstanceAttribute<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 每个实例几何图形颜色的值和类型信息。RGBA</li> <li><a href="https://cesium.com/docs/cesiumjs-ref-doc/ShowGeometryInstanceAttribute.html" target="_blank" rel="noopener noreferrer">ShowGeometryInstanceAttribute<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 每个实例几何属性的值和类型信息，用于确定是否显示几何实例。</li> <li><a href="https://cesium.com/docs/cesiumjs-ref-doc/DistanceDisplayConditionGeometryInstanceAttribute.html" target="_blank" rel="noopener noreferrer">DistanceDisplayConditionGeometryInstanceAttribute<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 每个实例几何属性的值和类型信息，用于确定几何实例是否具有距离显示条件。</li></ul> <p>官方Examples:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>GeometryInstance</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  geometry <span class="token punctuation">:</span> Cesium<span class="token punctuation">.</span>BoxGeometry<span class="token punctuation">.</span><span class="token function">fromDimensions</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    dimensions <span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Cartesian3</span><span class="token punctuation">(</span><span class="token number">1000000.0</span><span class="token punctuation">,</span> <span class="token number">1000000.0</span><span class="token punctuation">,</span> <span class="token number">500000.0</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  modelMatrix <span class="token punctuation">:</span> Cesium<span class="token punctuation">.</span>Matrix4<span class="token punctuation">.</span><span class="token function">multiplyByTranslation</span><span class="token punctuation">(</span>Cesium<span class="token punctuation">.</span>Transforms<span class="token punctuation">.</span><span class="token function">eastNorthUpToFixedFrame</span><span class="token punctuation">(</span>
    Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token function">fromDegrees</span><span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Cartesian3</span><span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">1000000.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Matrix4</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  id <span class="token punctuation">:</span> <span class="token string">'box'</span><span class="token punctuation">,</span>
  attributes <span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token comment">//几何属性的值和类型信息</span>
    color <span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>GeometryInstanceAttribute</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      componentDatatype <span class="token punctuation">:</span> Cesium<span class="token punctuation">.</span>ComponentDatatype<span class="token punctuation">.</span><span class="token constant">UNSIGNED_BYTE</span><span class="token punctuation">,</span>
      componentsPerAttribute <span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
      normalize <span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      value <span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// color : new Cesium.ColorGeometryInstanceAttribute(red, green, blue, alpha),</span>
    show <span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>ShowGeometryInstanceAttribute</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    distanceDisplayCondition <span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>DistanceDisplayConditionGeometryInstanceAttribute</span><span class="token punctuation">(</span><span class="token number">100.0</span><span class="token punctuation">,</span> <span class="token number">10000.0</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="geometry-类-几何形状"><a href="#geometry-类-几何形状" class="header-anchor">#</a> Geometry 类 几何形状</h2> <p><a href="https://cesium.com/docs/cesiumjs-ref-doc/Geometry.html?classFilter=Geometry" target="_blank" rel="noopener noreferrer">Geometry doc<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>具有形成顶点的属性和定义图元的可选索引数据的几何图形表示。可以将描述阴影的几何图形和外观分配给图元以进行可视化。可以从许多不同的（在许多情况下）几何形状创建性能的基元。可以使用GeometryPipeline中的函数来转换和优化几何。</p> <p>包含：</p> <ul><li><a href="https://cesium.com/docs/cesiumjs-ref-doc/PolygonGeometry.html" target="_blank" rel="noopener noreferrer">PolygonGeometry<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 多边形</li> <li><a href="https://cesium.com/docs/cesiumjs-ref-doc/RectangleGeometry.html" target="_blank" rel="noopener noreferrer">RectangleGeometry<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 矩形</li> <li><a href="https://cesium.com/docs/cesiumjs-ref-doc/EllipseGeometry.html" target="_blank" rel="noopener noreferrer">EllipseGeometry<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 椭圆</li> <li><a href="https://cesium.com/docs/cesiumjs-ref-doc/CircleGeometry.html" target="_blank" rel="noopener noreferrer">CircleGeometry<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 圆形</li> <li><a href="https://cesium.com/docs/cesiumjs-ref-doc/WallGeometry.html" target="_blank" rel="noopener noreferrer">WallGeometry<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 墙</li> <li><a href="https://cesium.com/docs/cesiumjs-ref-doc/SimplePolylineGeometry.html" target="_blank" rel="noopener noreferrer">SimplePolylineGeometry<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 简单折线</li> <li><a href="https://cesium.com/docs/cesiumjs-ref-doc/BoxGeometry.html" target="_blank" rel="noopener noreferrer">BoxGeometry<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 盒</li> <li><a href="https://cesium.com/docs/cesiumjs-ref-doc/EllipsoidGeometry.html" target="_blank" rel="noopener noreferrer">EllipsoidGeometry<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 椭球体</li> <li>etc..</li></ul> <p><img src="/Cesium-start/assets/img/Cesium-Geometry.3ed3d266.png" alt=""></p> <p>一般都有两种创建的方式：</p> <ul><li><code>*.createGeometry(*)</code></li> <li><code>*.fromDimensions(options)</code></li></ul> <p>除了各种<code>Geometry</code>,基本上每种还对应有<code>*OutlineGeometry</code>,以原点为中心的几何体轮廓。</p> <p>还有<code>*GeometryUpdater</code>,比如<code>BoxGeometry</code>对应就有<code>BoxGeometryUpdater</code>。客户端通常不直接创建此类，而是依赖于<a href="https://cesium.com/docs/cesiumjs-ref-doc/DataSourceDisplay.html" target="_blank" rel="noopener noreferrer"><code>DataSourceDisplay</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</p> <h2 id="material-materialproperty-materialappearance-材质外观"><a href="#material-materialproperty-materialappearance-材质外观" class="header-anchor">#</a> Material &amp; MaterialProperty &amp; MaterialAppearance 材质外观</h2> <h3 id="material"><a href="#material" class="header-anchor">#</a> Material</h3> <p><a href="https://cesium.com/docs/cesiumjs-ref-doc/Material.html?classFilter=Material" target="_blank" rel="noopener noreferrer">Material doc<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><img src="/Cesium-start/assets/img/Cesium-Material.666771dd.png" alt=""></p> <h3 id="materialproperty"><a href="#materialproperty" class="header-anchor">#</a> MaterialProperty</h3> <p><a href="https://cesium.com/docs/cesiumjs-ref-doc/MaterialProperty.html?classFilter=MaterialProperty" target="_blank" rel="noopener noreferrer">MaterialProperty doc<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>相关：</p> <ul><li><a href="https://cesium.com/docs/cesiumjs-ref-doc/CheckerboardMaterialProperty.html?classFilter=MaterialProperty" target="_blank" rel="noopener noreferrer">CheckerboardMaterialProperty<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://cesium.com/docs/cesiumjs-ref-doc/ColorMaterialProperty.html?classFilter=MaterialProperty" target="_blank" rel="noopener noreferrer">ColorMaterialProperty<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://cesium.com/docs/cesiumjs-ref-doc/CompositeMaterialProperty.html?classFilter=MaterialProperty" target="_blank" rel="noopener noreferrer">CompositeMaterialProperty<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://cesium.com/docs/cesiumjs-ref-doc/GridMaterialProperty.html?classFilter=MaterialProperty" target="_blank" rel="noopener noreferrer">GridMaterialProperty<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://cesium.com/docs/cesiumjs-ref-doc/ImageMaterialProperty.html?classFilter=MaterialProperty" target="_blank" rel="noopener noreferrer">ImageMaterialProperty<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://cesium.com/docs/cesiumjs-ref-doc/PolylineArrowMaterialProperty.html?classFilter=MaterialProperty" target="_blank" rel="noopener noreferrer">PolylineArrowMaterialProperty<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://cesium.com/docs/cesiumjs-ref-doc/PolylineDashMaterialProperty.html?classFilter=MaterialProperty" target="_blank" rel="noopener noreferrer">PolylineDashMaterialProperty<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://cesium.com/docs/cesiumjs-ref-doc/PolylineGlowMaterialProperty.html?classFilter=MaterialProperty" target="_blank" rel="noopener noreferrer">PolylineGlowMaterialProperty<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://cesium.com/docs/cesiumjs-ref-doc/PolylineOutlineMaterialProperty.html?classFilter=MaterialProperty" target="_blank" rel="noopener noreferrer">PolylineOutlineMaterialProperty<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://cesium.com/docs/cesiumjs-ref-doc/StripeMaterialProperty.html?classFilter=MaterialProperty" target="_blank" rel="noopener noreferrer">StripeMaterialProperty<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//方法一，构造时赋材质</span>
<span class="token keyword">var</span> entity <span class="token operator">=</span> viewer<span class="token punctuation">.</span>entities<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  position<span class="token punctuation">:</span> Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token function">fromDegrees</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">103.0</span><span class="token punctuation">,</span> <span class="token number">40.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  ellipse <span class="token punctuation">:</span> <span class="token punctuation">{</span>
    semiMinorAxis <span class="token punctuation">:</span> <span class="token number">250000.0</span><span class="token punctuation">,</span>
    semiMajorAxis <span class="token punctuation">:</span> <span class="token number">400000.0</span><span class="token punctuation">,</span>
    material <span class="token punctuation">:</span> Cesium<span class="token punctuation">.</span>Color<span class="token punctuation">.</span><span class="token constant">BLUE</span><span class="token punctuation">.</span><span class="token function">withAlpha</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token comment">//可设置不同的MaterialProperty</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//方法二，构造后赋材质</span>
<span class="token keyword">var</span> ellipse <span class="token operator">=</span> entity<span class="token punctuation">.</span>ellipse<span class="token punctuation">;</span>
ellipse<span class="token punctuation">.</span>material <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Color<span class="token punctuation">.</span><span class="token constant">RED</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="colormaterialproperty-颜色材质"><a href="#colormaterialproperty-颜色材质" class="header-anchor">#</a> ColorMaterialProperty 颜色材质</h4> <p>是最常见的材质，纯色。</p> <p>比如上面例子中：</p> <div class="language-js extra-class"><pre class="language-js"><code>ellipse<span class="token punctuation">.</span>material <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Color<span class="token punctuation">.</span><span class="token constant">BLUE</span><span class="token punctuation">.</span><span class="token function">withAlpha</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token comment">//设置蓝色，透明度0.5</span>
</code></pre></div><p>完整举例：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> entityColor <span class="token operator">=</span> api<span class="token punctuation">.</span>viewer<span class="token punctuation">.</span>entities<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    position<span class="token punctuation">:</span> Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token function">fromDegrees</span><span class="token punctuation">(</span><span class="token number">116.4</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    ellipse<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        semiMinorAxis<span class="token punctuation">:</span> <span class="token number">2500.0</span><span class="token punctuation">,</span>
        semiMajorAxis<span class="token punctuation">:</span> <span class="token number">4000.0</span><span class="token punctuation">,</span>
        material<span class="token punctuation">:</span> Cesium<span class="token punctuation">.</span>Color<span class="token punctuation">.</span><span class="token constant">BLUE</span><span class="token punctuation">.</span><span class="token function">withAlpha</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">)</span> <span class="token comment">//可设置不同的MaterialProperty</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//也可以</span>
<span class="token comment">//entityColor.ellipse.material = Cesium.Color.BLUE.withAlpha(0.5)</span>
</code></pre></div><h4 id="imagematerialproperty-图片材质"><a href="#imagematerialproperty-图片材质" class="header-anchor">#</a> ImageMaterialProperty 图片材质</h4> <p>图片纹理功能比较丰富，主要有下面属性：</p> <ul><li><code>image</code> 值可以是URL，Canvas,或者Video</li> <li><code>repeat</code> 值为一个二位数，分别表示X,y方向的重复次数，例如<code>new Cartesian2(2.0, 1.0)</code>表示x方向重复2次,y方向重复1次</li> <li><code>color</code> 设置颜色之后，会在图片上覆盖一层设置的颜色</li> <li><code>transparent</code> 是否透明，纹理为png图片的时候可以设置</li></ul> <p>举例：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> entityImage <span class="token operator">=</span> api<span class="token punctuation">.</span>viewer<span class="token punctuation">.</span>entities<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    position<span class="token punctuation">:</span> Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token function">fromDegrees</span><span class="token punctuation">(</span><span class="token number">116.3</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    ellipse<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        semiMinorAxis<span class="token punctuation">:</span> <span class="token number">2500.0</span><span class="token punctuation">,</span>
        semiMajorAxis<span class="token punctuation">:</span> <span class="token number">4000.0</span><span class="token punctuation">,</span>
        material<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>ImageMaterialProperty</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            image<span class="token punctuation">:</span> <span class="token string">'../../assets/img/arrow.png'</span><span class="token punctuation">,</span>
            color<span class="token punctuation">:</span> Cesium<span class="token punctuation">.</span>Color<span class="token punctuation">.</span><span class="token constant">BLUE</span><span class="token punctuation">,</span>
            repeat<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Cartesian2</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//也可以这么写</span>
<span class="token comment">// entityImage.ellipse.material = new Cesium.ImageMaterialProperty({</span>
<span class="token comment">//     image: '../../assets/img/arrow.png',</span>
<span class="token comment">//     color: Cesium.Color.BLUE,</span>
<span class="token comment">//     repeat : new Cesium.Cartesian2(4, 4)</span>
<span class="token comment">// });</span>
<span class="token comment">//也可以简单的写成</span>
<span class="token comment">// entityImage.ellipse.material = '../../assets/img/arrow.png';</span>
</code></pre></div><h4 id="checkerboardmaterialproperty-棋盘纹理"><a href="#checkerboardmaterialproperty-棋盘纹理" class="header-anchor">#</a> CheckerboardMaterialProperty 棋盘纹理</h4> <p>三个属性:</p> <ul><li><code>evenColor</code> 默认白色，棋盘的第一个颜色</li> <li><code>oddColor</code> 默认黑色，第二个颜色</li> <li><code>repeat</code> 重复次数</li></ul> <p>举例：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> entityCheckerboard <span class="token operator">=</span> api<span class="token punctuation">.</span>viewer<span class="token punctuation">.</span>entities<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    position<span class="token punctuation">:</span> Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token function">fromDegrees</span><span class="token punctuation">(</span><span class="token number">116.3</span><span class="token punctuation">,</span> <span class="token number">40.05</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    ellipse<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        semiMinorAxis<span class="token punctuation">:</span> <span class="token number">2500.0</span><span class="token punctuation">,</span>
        semiMajorAxis<span class="token punctuation">:</span> <span class="token number">4000.0</span><span class="token punctuation">,</span>
        material<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>CheckerboardMaterialProperty</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            evenColor<span class="token punctuation">:</span> Cesium<span class="token punctuation">.</span>Color<span class="token punctuation">.</span><span class="token constant">WHITE</span><span class="token punctuation">,</span>
            oddColor<span class="token punctuation">:</span> Cesium<span class="token punctuation">.</span>Color<span class="token punctuation">.</span><span class="token constant">BLACK</span><span class="token punctuation">,</span>
            repeat<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Cartesian2</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//也可以</span>
<span class="token comment">// entityCheckerboard.ellipse.material = new Cesium.CheckerboardMaterialProperty({</span>
<span class="token comment">//     evenColor: Cesium.Color.WHITE,</span>
<span class="token comment">//     oddColor: Cesium.Color.BLACK,</span>
<span class="token comment">//     repeat: new Cesium.Cartesian2(4, 4)</span>
<span class="token comment">// });</span>
</code></pre></div><h4 id="stripematerialproperty-条纹纹理"><a href="#stripematerialproperty-条纹纹理" class="header-anchor">#</a> StripeMaterialProperty 条纹纹理</h4> <p>属性如下：</p> <ul><li><code>evenColor</code> 默认白色，棋盘的第一个颜色</li> <li><code>oddColor</code> 默认黑色，第二个颜色</li> <li><code>repeat</code> 条纹重复次数</li> <li><code>offset</code> 偏移量</li> <li><code>orientation</code> 水平或者垂直,默认水平</li></ul> <p>举例：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> entityStripe <span class="token operator">=</span> api<span class="token punctuation">.</span>viewer<span class="token punctuation">.</span>entities<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    position<span class="token punctuation">:</span> Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token function">fromDegrees</span><span class="token punctuation">(</span><span class="token number">116.4</span><span class="token punctuation">,</span> <span class="token number">40.05</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    ellipse<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        semiMinorAxis<span class="token punctuation">:</span> <span class="token number">2500.0</span><span class="token punctuation">,</span>
        semiMajorAxis<span class="token punctuation">:</span> <span class="token number">4000.0</span><span class="token punctuation">,</span>
        material<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>StripeMaterialProperty</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        evenColor <span class="token punctuation">:</span> Cesium<span class="token punctuation">.</span>Color<span class="token punctuation">.</span><span class="token constant">WHITE</span><span class="token punctuation">,</span>
        oddColor <span class="token punctuation">:</span> Cesium<span class="token punctuation">.</span>Color<span class="token punctuation">.</span><span class="token constant">BLACK</span><span class="token punctuation">,</span>
        repeat <span class="token punctuation">:</span> <span class="token number">32</span><span class="token punctuation">,</span>
        offset<span class="token punctuation">:</span><span class="token number">20</span><span class="token punctuation">,</span>
        orientation<span class="token punctuation">:</span>Cesium<span class="token punctuation">.</span>StripeOrientation<span class="token punctuation">.</span><span class="token constant">VERTICAL</span> 
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//也可以</span>
<span class="token comment">// entityStripe.ellipse.material = new Cesium.StripeMaterialProperty({</span>
<span class="token comment">//   evenColor : Cesium.Color.WHITE,</span>
<span class="token comment">//   oddColor : Cesium.Color.BLACK,</span>
<span class="token comment">//   repeat : 32,</span>
<span class="token comment">//   offset:20,</span>
<span class="token comment">//   orientation:Cesium.StripeOrientation.VERTICAL </span>
<span class="token comment">// });</span>
</code></pre></div><h4 id="gridmaterialproperty-网格纹理"><a href="#gridmaterialproperty-网格纹理" class="header-anchor">#</a> GridMaterialProperty 网格纹理</h4> <p>属性如下：</p> <ul><li><code>color</code> 网格颜色</li> <li><code>cellAlpha</code> 单元格透明度</li> <li><code>lineCount</code> 行列个数</li> <li><code>lineThickness</code> 线粗细</li> <li><code>lineOffset</code> 线偏移</li></ul> <p>举例：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> entityGrid <span class="token operator">=</span> api<span class="token punctuation">.</span>viewer<span class="token punctuation">.</span>entities<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    position<span class="token punctuation">:</span> Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token function">fromDegrees</span><span class="token punctuation">(</span><span class="token number">116.5</span><span class="token punctuation">,</span> <span class="token number">40.05</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    ellipse<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        semiMinorAxis<span class="token punctuation">:</span> <span class="token number">2500.0</span><span class="token punctuation">,</span>
        semiMajorAxis<span class="token punctuation">:</span> <span class="token number">4000.0</span><span class="token punctuation">,</span>
        material<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>GridMaterialProperty</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            color <span class="token punctuation">:</span> Cesium<span class="token punctuation">.</span>Color<span class="token punctuation">.</span><span class="token constant">YELLOW</span><span class="token punctuation">,</span>
            cellAlpha <span class="token punctuation">:</span> <span class="token number">0.2</span><span class="token punctuation">,</span>
            lineCount <span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Cartesian2</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            lineThickness <span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Cartesian2</span><span class="token punctuation">(</span><span class="token number">2.0</span><span class="token punctuation">,</span> <span class="token number">2.0</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//也可以</span>
<span class="token comment">// entityGrid.ellipse.material = new Cesium.GridMaterialProperty({</span>
<span class="token comment">//   color : Cesium.Color.YELLOW,</span>
<span class="token comment">//   cellAlpha : 0.2,</span>
<span class="token comment">//   lineCount : new Cesium.Cartesian2(8, 8),</span>
<span class="token comment">//   lineThickness : new Cesium.Cartesian2(2.0, 2.0)</span>
<span class="token comment">// });</span>
</code></pre></div><h4 id="polylineglowmaterialproperty"><a href="#polylineglowmaterialproperty" class="header-anchor">#</a> PolylineGlowMaterialProperty</h4> <p>需要用到<code>Polyline</code>:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> entityPolyline <span class="token operator">=</span> viewer<span class="token punctuation">.</span>entities<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    polyline<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        positions<span class="token punctuation">:</span> Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token function">fromDegreesArray</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
            <span class="token number">116.3</span><span class="token punctuation">,</span> <span class="token number">39.95</span><span class="token punctuation">,</span>
            <span class="token number">116.5</span><span class="token punctuation">,</span> <span class="token number">39.95</span>
        <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        width<span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
        material<span class="token punctuation">:</span> Cesium<span class="token punctuation">.</span>Color<span class="token punctuation">.</span><span class="token constant">RED</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> polyline <span class="token operator">=</span> entityPolyline<span class="token punctuation">.</span>polyline<span class="token punctuation">;</span>
</code></pre></div><p>属性如下：</p> <ul><li><code>color</code> 发光的颜色(中心颜色为白色)</li> <li><code>glowPower</code> 发光的长度，值为线宽的百分比(0~1.0)</li></ul> <p>举例：</p> <div class="language-js extra-class"><pre class="language-js"><code>polyline<span class="token punctuation">.</span>material <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>PolylineGlowMaterialProperty</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    glowPower<span class="token punctuation">:</span> <span class="token number">0.2</span><span class="token punctuation">,</span>
    color<span class="token punctuation">:</span> Cesium<span class="token punctuation">.</span>Color<span class="token punctuation">.</span><span class="token constant">BLUE</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="polylineglowmaterialproperty-2"><a href="#polylineglowmaterialproperty-2" class="header-anchor">#</a> PolylineGlowMaterialProperty</h4> <p>同样需要<code>Polyline</code>。</p> <p>属性如下：</p> <ul><li><code>color</code> 线的颜色</li> <li><code>outlineWidth</code> 线纹理宽度</li> <li><code>outlineColor</code> 线纹理颜色</li></ul> <p>举例：</p> <div class="language-js extra-class"><pre class="language-js"><code>polyline<span class="token punctuation">.</span>material <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>PolylineOutlineMaterialProperty</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    color <span class="token punctuation">:</span> Cesium<span class="token punctuation">.</span>Color<span class="token punctuation">.</span><span class="token constant">ORANGE</span><span class="token punctuation">,</span>
    outlineWidth <span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
    outlineColor <span class="token punctuation">:</span> Cesium<span class="token punctuation">.</span>Color<span class="token punctuation">.</span><span class="token constant">BLACK</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a href="https://sogrey.github.io/Cesium-start-Example/examples/material/MaterialProperty%E8%AE%BE%E7%BD%AE%E6%A8%A1%E5%9E%8B%E6%9D%90%E8%B4%A8.html" target="_blank" rel="noopener noreferrer">示例查看<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="materialappearance"><a href="#materialappearance" class="header-anchor">#</a> MaterialAppearance</h3> <p><a href="https://cesium.com/docs/cesiumjs-ref-doc/MaterialAppearance.html?classFilter=MaterialAppearance" target="_blank" rel="noopener noreferrer">MaterialAppearance doc<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>相关：</p> <ul><li><a href="https://cesium.com/docs/cesiumjs-ref-doc/PolylineMaterialAppearance.html?classFilter=MaterialAppearance" target="_blank" rel="noopener noreferrer">PolylineMaterialAppearance<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <p><a href="https://github.com/AnalyticalGraphicsInc/cesium/wiki/Fabric" target="_blank" rel="noopener noreferrer">Fabric<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 见<a href="/Cesium-start/zh/guide/11-Fabric.html">下一节</a></p> <p>有段大牛分享的代码：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/*
  流动纹理线
   color 颜色
   duration 持续时间 毫秒
*/</span>
<span class="token keyword">function</span> <span class="token function">PolylineTrailLinkMaterialProperty</span><span class="token punctuation">(</span><span class="token parameter">color<span class="token punctuation">,</span> duration</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>_definitionChanged <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Event</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>_color <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>_colorSubscription <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>color <span class="token operator">=</span> color<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>duration <span class="token operator">=</span> duration<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>_time <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
Cesium<span class="token punctuation">.</span><span class="token function">defineProperties</span><span class="token punctuation">(</span><span class="token class-name">PolylineTrailLinkMaterialProperty</span><span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    isConstant<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token function-variable function">get</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    definitionChanged<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token function-variable function">get</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_definitionChanged<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    color<span class="token punctuation">:</span> Cesium<span class="token punctuation">.</span><span class="token function">createPropertyDescriptor</span><span class="token punctuation">(</span><span class="token string">'color'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">PolylineTrailLinkMaterialProperty</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getType</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">time</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">'PolylineTrailLink'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token class-name">PolylineTrailLinkMaterialProperty</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getValue</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">time<span class="token punctuation">,</span> result</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>Cesium<span class="token punctuation">.</span><span class="token function">defined</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        result <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    result<span class="token punctuation">.</span>color <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Property<span class="token punctuation">.</span><span class="token function">getValueOrClonedDefault</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_color<span class="token punctuation">,</span> time<span class="token punctuation">,</span> Cesium<span class="token punctuation">.</span>Color<span class="token punctuation">.</span><span class="token constant">WHITE</span><span class="token punctuation">,</span> result<span class="token punctuation">.</span>color<span class="token punctuation">)</span><span class="token punctuation">;</span>
    result<span class="token punctuation">.</span>image <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Material<span class="token punctuation">.</span>PolylineTrailLinkImage<span class="token punctuation">;</span>
    result<span class="token punctuation">.</span>time <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_time<span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token keyword">this</span><span class="token punctuation">.</span>duration<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token keyword">this</span><span class="token punctuation">.</span>duration<span class="token punctuation">;</span>
    <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token class-name">PolylineTrailLinkMaterialProperty</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">equals</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">other</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span> <span class="token operator">===</span> other <span class="token operator">||</span>
        <span class="token punctuation">(</span>other <span class="token keyword">instanceof</span> <span class="token class-name">PolylineTrailLinkMaterialProperty</span> <span class="token operator">&amp;&amp;</span>
          Property<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_color<span class="token punctuation">,</span> other<span class="token punctuation">.</span>_color<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
Cesium<span class="token punctuation">.</span>PolylineTrailLinkMaterialProperty <span class="token operator">=</span> PolylineTrailLinkMaterialProperty<span class="token punctuation">;</span>
Cesium<span class="token punctuation">.</span>Material<span class="token punctuation">.</span>PolylineTrailLinkType <span class="token operator">=</span> <span class="token string">'PolylineTrailLink'</span><span class="token punctuation">;</span>
Cesium<span class="token punctuation">.</span>Material<span class="token punctuation">.</span>PolylineTrailLinkImage <span class="token operator">=</span> <span class="token string">&quot;./sampledata/images/colors.png&quot;</span><span class="token punctuation">;</span>
Cesium<span class="token punctuation">.</span>Material<span class="token punctuation">.</span>PolylineTrailLinkSource <span class="token operator">=</span> <span class="token string">&quot;czm_material czm_getMaterial(czm_materialInput materialInput)\n\
                                              {\n\
                                                   czm_material material = czm_getDefaultMaterial(materialInput);\n\
                                                   vec2 st = materialInput.st;\n\
                                                   vec4 colorImage = texture2D(image, vec2(fract(st.s - time), st.t));\n\
                                                   material.alpha = colorImage.a * color.a;\n\
                                                   material.diffuse = (colorImage.rgb+color.rgb)/2.0;\n\
                                                   return material;\n\
                                               }&quot;</span><span class="token punctuation">;</span>
Cesium<span class="token punctuation">.</span>Material<span class="token punctuation">.</span>_materialCache<span class="token punctuation">.</span><span class="token function">addMaterial</span><span class="token punctuation">(</span>Cesium<span class="token punctuation">.</span>Material<span class="token punctuation">.</span>PolylineTrailLinkType<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    fabric<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        type<span class="token punctuation">:</span> Cesium<span class="token punctuation">.</span>Material<span class="token punctuation">.</span>PolylineTrailLinkType<span class="token punctuation">,</span>
        uniforms<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            color<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Color</span><span class="token punctuation">(</span><span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            image<span class="token punctuation">:</span> Cesium<span class="token punctuation">.</span>Material<span class="token punctuation">.</span>PolylineTrailLinkImage<span class="token punctuation">,</span>
            time<span class="token punctuation">:</span> <span class="token number">0</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        source<span class="token punctuation">:</span> Cesium<span class="token punctuation">.</span>Material<span class="token punctuation">.</span>PolylineTrailLinkSource
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">translucent</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">material</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><details><summary>查看代码段</summary>
逗你呢
</details> <p><a href="https://github.com/YanzheZhang/Cesium.HPUZYZ.Demo/blob/master/Cesium1.43/MyDemos/Tools-34TrailLine.html" target="_blank" rel="noopener noreferrer">github<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <ol><li>新建PolylineTrailLinkMaterialProperty纹理类</li> <li>通过Cesium.Material._materialCache.addMaterial接口添加到系统内置纹理缓存中。</li></ol> <h2 id="参考"><a href="#参考" class="header-anchor">#</a> 参考</h2> <ul><li><a href="https://blog.csdn.net/happyduoduo1/article/details/51868042" target="_blank" rel="noopener noreferrer">Cesium(三) 几何图形与外观<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://www.jianshu.com/p/4697d8147926" target="_blank" rel="noopener noreferrer">cesium编程入门(八)设置材质<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/Sogrey/Cesium-start/edit/master/source/zh/guide/10-Primitive-API.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2020-1-4 11:36:14</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/Cesium-start/zh/guide/09-Cesium3DTileset.html" class="prev">Cesium3DTileset 让场景更细致更真实</a></span> <span class="next"><a href="/Cesium-start/zh/guide/11-Fabric.html">Fabric 玩点高级的</a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/Cesium-start/assets/js/app.04cf2a1c.js" defer></script><script src="/Cesium-start/assets/js/2.3ec245fe.js" defer></script><script src="/Cesium-start/assets/js/9.354dd238.js" defer></script>
  </body>
</html>
